TODO

- [ ] pprof
- [ ] additional data for metrics decorator (like adapter name)
- [ ] revenue export file
- [ ] transactional outbox
- [ ] kafka
- [ ] http ctx timeouts
- [ ] ошибка таймаута
- [ ] panic recovery
- [ ] error wrapping
- [ ] метрики
- [ ] логи
- [ ] opentracing
- [ ] strip username/password/token from logs
- [ ] .env
- [ ] tls
- [.] bench
- [ ] loki
    - [ ] retention_period
- [.] swagger
- [ ] prometheus
    - [ ] alerts
- [.] графана, прометей
    - [ ] grafana dashboard config
    - [ ] http
    - [ ] grpc
- [ ] tests
    - [ ] race
    - [ ] check ddd project
    - [ ] parallel tests
    - [ ] lagging app
- [ ] grpc
    - [ ] metrics endpoint
    - [ ] healthcheck endpoint
    - [ ] timeouts
- [x] graceful shutdown
- [x] use case panic recovery
- [x] reserve confirm/cancel: productID mismatch
- [x] reserve: already paid
- [x] FOR UPDATE
- [x] more test coverage
- [x] migrations
- [-] auth token blacklist
- [-] csrf
- [x] view tests coverage
- [x] validate grpc server to use cases mapping on startup
- [-] uint64 for domain models
- [x] error cause